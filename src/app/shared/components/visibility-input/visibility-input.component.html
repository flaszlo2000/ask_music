<mat-form-field appearance="outline">
    <mat-label>
        <ng-content></ng-content>
    </mat-label>
    <input
        matInput
        [type]="visible_password ? 'text' : 'password'"
        [formControl]="inner_form_control"
        required
    />
    
    <button matSuffix mat-icon-button aria-label="Clear" (click)="toggleVisibility()">
        <mat-icon *ngIf="!visible_password; else visible_icon">visibility</mat-icon>
    </button>
</mat-form-field>

<ng-template #visible_icon>
    <mat-icon>visibility_off</mat-icon>
</ng-template>